import{aa as M,aA as E,aB as m,aC as V,a8 as R,aD as k,ac as C,ao as q,aE as L,a3 as F,H as U,au as G,aF as S,K as y,J as I,F as J,g as h,ah as K,aG as z,aH as Q,ar as X,aj as Z,aI as x,a5 as ee,d as te,h as N,p as re,O as ae,a as ne,e as H,B as se,m as ie,u as ue}from"./7GJGpHPt.js";import{d as oe}from"./C38YTtRo.js";import{s as fe,g as ce}from"./D516pC1J.js";const le=["touchstart","touchmove"];function de(e){return le.includes(e)}function we(e,t){{const r=document.body;e.autofocus=!0,M(()=>{document.activeElement===r&&e.focus()})}}let P=!1;function _e(){P||(P=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function W(e){var t=V,r=R;E(null),m(null);try{return e()}finally{E(t),m(r)}}function Ee(e,t,r,n=r){e.addEventListener(t,()=>W(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),_e()}const ve=new Set,B=new Set;function pe(e,t,r,n={}){function s(a){if(n.capture||g.call(t,a),!a.cancelBubble)return W(()=>r==null?void 0:r.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?M(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function me(e,t,r,n,s){var a={capture:n,passive:s},o=pe(e,t,r,a);(t===document.body||t===window||t===document)&&k(()=>{t.removeEventListener(e,o,a)})}function g(e){var A;var t=this,r=t.ownerDocument,n=e.type,s=((A=e.composedPath)==null?void 0:A.call(e))||[],a=s[0]||e.target,o=0,_=e.__root;if(_){var l=s.indexOf(_);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var v=s.indexOf(t);if(v===-1)return;l<=v&&(o=l)}if(a=s[o]||e.target,a!==t){C(e,"currentTarget",{configurable:!0,get(){return a||r}});var T=V,f=R;E(null),m(null);try{for(var i,u=[];a!==null;){var c=a.assignedSlot||a.parentNode||a.host||null;try{var d=a["__"+n];if(d!=null&&(!a.disabled||e.target===a))if(q(d)){var[$,...j]=d;$.apply(a,[e,...j])}else d.call(a,e)}catch(b){i?u.push(b):i=b}if(e.cancelBubble||c===t||c===null)break;a=c}if(i){for(let b of u)queueMicrotask(()=>{throw b});throw i}}finally{e.__root=t,delete e.currentTarget,E(T),m(f)}}}function Te(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function he(e,t){return Y(e,t)}function Se(e,t){L(),t.intro=t.intro??!1;const r=t.target,n=N,s=h;try{for(var a=F(r);a&&(a.nodeType!==8||a.data!==U);)a=G(a);if(!a)throw S;y(!0),I(a),J();const o=Y(e,{...t,anchor:a});if(h===null||h.nodeType!==8||h.data!==K)throw z(),S;return y(!1),o}catch(o){if(o===S)return t.recover===!1&&Q(),L(),X(r),y(!1),he(e,t);throw o}finally{y(n),I(s)}}const p=new Map;function Y(e,{target:t,anchor:r,props:n={},events:s,context:a,intro:o=!0}){L();var _=new Set,l=f=>{for(var i=0;i<f.length;i++){var u=f[i];if(!_.has(u)){_.add(u);var c=de(u);t.addEventListener(u,g,{passive:c});var d=p.get(u);d===void 0?(document.addEventListener(u,g,{passive:c}),p.set(u,1)):p.set(u,d+1)}}};l(Z(ve)),B.add(l);var v=void 0,T=x(()=>{var f=r??t.appendChild(ee());return te(()=>{if(a){re({});var i=ae;i.c=a}s&&(n.$$events=s),N&&oe(f,null),v=e(f,n)||{},N&&(R.nodes_end=h),a&&ne()}),()=>{var c;for(var i of _){t.removeEventListener(i,g);var u=p.get(i);--u===0?(document.removeEventListener(i,g),p.delete(i)):p.set(i,u)}B.delete(l),f!==r&&((c=f.parentNode)==null||c.removeChild(f))}});return O.set(v,T),v}let O=new WeakMap;function Le(e,t){const r=O.get(e);return r?(O.delete(e),r(t)):Promise.resolve()}let w=!1,D=Symbol();function Ne(e,t,r){const n=r[t]??(r[t]={store:null,source:se(void 0),unsubscribe:H});if(n.store!==e&&!(D in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=H;else{var s=!0;n.unsubscribe=fe(e,a=>{s?n.source.v=a:ue(n.source,a)}),s=!1}return e&&D in r?ce(e):ie(n.source)}function Oe(){const e={};function t(){k(()=>{for(var r in e)e[r].unsubscribe();C(e,D,{enumerable:!1,value:!0})})}return[e,t]}function De(e){var t=w;try{return w=!1,[e(),w]}finally{w=t}}export{Te as a,Ne as b,De as c,_e as d,me as e,we as f,Se as h,Ee as l,he as m,Oe as s,Le as u};
