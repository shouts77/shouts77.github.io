import{b as T,e as U,c as V,t as $,a as x}from"../chunks/u5rRNW60.js";import{t as A,h as E,i as W,aa as Z,aH as aa,g as X,as as ea,aB as ta,aA as sa,m as ra,a5 as H,D as Q,c as s,r,s as u,p as oa,ab as B,K as O,a as la,M as j,A as k,aI as na,n as ia}from"../chunks/B3uq-fkL.js";import{s as I,e as K}from"../chunks/Opm5akDb.js";import{i as z}from"../chunks/C-r-Ni-y.js";import{s as ca}from"../chunks/BQaPzrXg.js";import{e as va,a as pa,i as ha,s as N}from"../chunks/D1wkUC-9.js";import{s as da,a as ma}from"../chunks/CG2HAYW7.js";import{p as fa}from"../chunks/C8vNw-1b.js";import{o as ua}from"../chunks/Cpxjyab3.js";import"../chunks/DfTUGVGV.js";function _a(p,c,h=!1,g=!1,t=!1){var o=p,v="";A(()=>{var n=Z;if(v===(v=c()??"")){E&&W();return}if(n.nodes_start!==null&&(aa(n.nodes_start,n.nodes_end),n.nodes_start=n.nodes_end=null),v!==""){if(E){X.data;for(var e=W(),d=e;e!==null&&(e.nodeType!==8||e.data!=="");)d=e,e=ea(e);if(e===null)throw ta(),sa;T(X,d),o=ra(e);return}var i=v+"";h?i=`<svg>${i}</svg>`:g&&(i=`<math>${i}</math>`);var l=U(i);if((h||g)&&(l=H(l)),T(H(l),l.lastChild),h||g)for(;H(l);)o.before(H(l));else o.before(l)}})}function ga(p){return function(...c){var h=c[0];return h.stopPropagation(),p==null?void 0:p.apply(this,c)}}const xa=!0,Pa=Object.freeze(Object.defineProperty({__proto__:null,prerender:xa},Symbol.toStringTag,{value:"Module"}));var wa=$('<p class="search-result-context"><!></p>'),ba=$('<p class="search-result-summary"> </p>'),ya=$('<div class="search-result-item"><a class="search-result-link"><h3 class="search-result-title"> </h3> <div class="search-result-meta"><span class="search-result-date"> </span> <span class="search-result-category"> </span></div> <!></a></div>');function ka(p){var c=V(),h=Q(c);va(h,0,()=>searchResults,ha,(g,t)=>{var o=ya(),v=s(o),n=s(v),e=s(n,!0);r(n);var d=u(n,2),i=s(d),l=s(i,!0);r(i);var w=u(i,2),C=s(w,!0);r(w),r(d);var M=u(d,2);{var b=_=>{var m=wa(),R=s(m);_a(R,()=>t.matchContext),r(m),x(_,m)},D=(_,m)=>{{var R=S=>{var y=ba(),L=s(y,!0);r(y),A(()=>I(L,t.summary)),x(S,y)};z(_,S=>{t.summary&&S(R)},m)}};z(M,_=>{t.matchContext?_(b):_(D,!1)})}r(v),r(o),A(()=>{pa(v,"href",`/blog/${t.slug??""}`),I(e,t.title),I(l,t.date),I(C,t.category)}),x(g,o)}),x(p,c)}var $a=$('<span class="absolute left-2 bottom-0 h-[2px] w-8 translate-x-[-1px] bg-blue-400"></span>'),Ma=$('<span class="absolute left-0.5 bottom-0 h-[2px] w-8 translate-x-[-2px] bg-blue-400"></span>'),Ra=$('<nav class="w-full md:w-96 px-2 pt-1"><div class="flex justify-between items-center font-yoo text-sm"><div class="flex"><a href="/">첫화면 <!></a> <a href="/blog">기록 <!></a></div> <div class="flex items-center space-x-1"><button class="px-1 py-1 text-sm hover:text-blue-600" aria-label="검색" title="검색"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button> <a href="https://x.com/shouts2713531" class="px-1 py-1 text-sm hover:text-orange-600" aria-label="X로 이동" title="X로 이동" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 inline" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg></a> <a href="/rss.xml" class="px-1 py-1 text-sm hover:text-orange-600" aria-label="RSS 피드 구독" title="RSS 피드 구독" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" class="h-2.5 w-2.5 inline" fill="currentColor" viewBox="0 0 24 24"><path d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z"></path></svg></a></div></div></nav> <!> <!>',1);function Ta(p,c){oa(c,!0);const[h,g]=da(),t=()=>ma(fa,"$page",h);let o=B(!1),v=B(""),n=B(O([])),e=B(O([]));O({}),O({}),ua(async()=>{try{console.log("검색 색인 데이터 로드 시도...");const a=await fetch("/search-data/index.json");if(a.ok)j(e,await a.json(),!0),console.log(`검색 색인 로드 완료: ${k(e).length}개 포스트 메타데이터`);else{console.log("색인 파일을 찾을 수 없어 전체 검색 데이터를 로드합니다.");const f=await fetch("/search-data.json");if(f.ok){const F=await f.json();j(e,F.map(G=>{const{content:Sa,...J}=G;return J}),!0),console.log(`전체 데이터에서 ${k(e).length}개 메타데이터 추출`)}}}catch(a){console.error("검색 데이터 로드 중 오류 발생:",a)}});function d(){j(o,!k(o)),k(o)||(j(v,""),j(n,[],!0))}function i(a){const f=document.getElementById("search-modal");f&&!f.contains(a.target)&&k(o)&&d()}var l=Ra();K("click",na,i);var w=Q(l),C=s(w),M=s(C),b=s(M),D=u(s(b));{var _=a=>{var f=$a();x(a,f)};z(D,a=>{t().url.pathname==="/"&&a(_)})}r(b);var m=u(b,2),R=u(s(m));{var S=a=>{var f=Ma();x(a,f)};z(R,a=>{t().url.pathname.startsWith("/blog")&&a(S)})}r(m),r(M);var y=u(M,2),L=s(y);ia(4),r(y),r(C),r(w);var P=u(w,2);{var Y=a=>{ka(a)};z(P,a=>{k(o)&&a(Y)})}var q=u(P,2);ca(q,()=>c.children),A(a=>{N(b,1,`md px-2 py-1 text-sm hover:text-red-800 relative ${t().url.pathname==="/"?"active":""}`,"svelte-smrll"),N(m,1,a,"svelte-smrll")},[()=>`md px-2 py-1 text-sm hover:text-red-800 relative ${t().url.pathname.startsWith("/blog")?"active":""}`]),K("click",L,ga(d)),x(p,l),la(),g()}export{Ta as component,Pa as universal};
