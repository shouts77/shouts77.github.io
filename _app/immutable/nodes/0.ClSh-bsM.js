import{b as ue,e as Ge,t as g,a as c,c as pe,d as he}from"../chunks/Bf8EIeX-.js";import{t as z,h as re,i as me,aa as Je,aJ as Ne,g as _e,as as Qe,aD as Ye,aC as Fe,m as Ze,a5 as A,aK as ea,y as aa,aG as ta,am as ra,p as sa,ab as U,K as la,D as V,a as oa,aL as na,c as l,s as p,r,n as ia,A as a,M as w}from"../chunks/C3k3xJba.js";import{l as va,e as k,b as ca,s as K}from"../chunks/DY9SC2Sg.js";import{i as x}from"../chunks/eFEshVwY.js";import{s as ge,r as da,e as fa,a as xe,i as ua}from"../chunks/DvhvKenV.js";import{s as pa}from"../chunks/CKCmK1Zd.js";import{s as ha,a as ma}from"../chunks/CFXVYhEx.js";import{p as _a}from"../chunks/Cr6j-Lod.js";function be(e,t,v=!1,C=!1,d=!1){var o=e,s="";z(()=>{var i=Je;if(s===(s=t()??"")){re&&me();return}if(i.nodes_start!==null&&(Ne(i.nodes_start,i.nodes_end),i.nodes_start=i.nodes_end=null),s!==""){if(re){_e.data;for(var f=me(),S=f;f!==null&&(f.nodeType!==8||f.data!=="");)S=f,f=Qe(f);if(f===null)throw Ye(),Fe;ue(_e,S),o=Ze(f);return}var E=s+"";v?E=`<svg>${E}</svg>`:C&&(E=`<math>${E}</math>`);var b=Ge(E);if((v||C)&&(b=A(b)),ue(A(b),b.lastChild),v||C)for(;A(b);)o.before(A(b));else o.before(b)}})}function ga(e,t,v=t){var C=ea();va(e,"input",d=>{var o=d?e.defaultValue:e.value;if(o=ae(e)?te(o):o,v(o),C&&o!==(o=t())){var s=e.selectionStart,i=e.selectionEnd;e.value=o??"",i!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(i,e.value.length))}}),(re&&e.defaultValue!==e.value||aa(t)==null&&e.value)&&v(ae(e)?te(e.value):e.value),ta(()=>{var d=t();ae(e)&&d===te(e.value)||e.type==="date"&&!d&&!e.value||d!==e.value&&(e.value=d??"")})}function ae(e){var t=e.type;return t==="number"||t==="range"}function te(e){return e===""?null:+e}function xa(e){return function(...t){var v=t[0];v.target===this&&(e==null||e.apply(this,t))}}function ye(e){return function(...t){var v=t[0];return v.stopPropagation(),e==null?void 0:e.apply(this,t)}}function ba(e,t){var o;var v=(o=e.$$events)==null?void 0:o[t.type],C=ra(v)?v.slice():v==null?[]:[v];for(var d of C)d.call(this,t)}const ya=!0,Aa=Object.freeze(Object.defineProperty({__proto__:null,prerender:ya},Symbol.toStringTag,{value:"Module"}));var wa=g('<span class="absolute left-2 bottom-0 h-[2px] w-8 translate-x-[-1px] bg-blue-400"></span>'),ka=g('<span class="absolute left-0.5 bottom-0 h-[2px] w-8 translate-x-[-2px] bg-blue-400"></span>'),Ca=g('<div class="flex justify-center items-center py-4"><div class="animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-500"></div></div>'),Sa=g('<span class="px-1 py-0.5 rounded-full bg-gray-100 text-gray-700 shrink-0 text-xs"> </span>'),Ma=g('<p class="mt-0.5 text-xs text-gray-600 bg-yellow-50 p-1 rounded leading-snug"><!></p>'),Ra=g('<li><a class="block py-1.5 px-2 hover:bg-gray-50 transition-colors"><div class="flex items-center text-xs gap-1"><span class="text-gray-400 shrink-0 tabular-nums"> </span> <!> <h4 class="font-medium text-gray-800 truncate"><!></h4></div> <!></a></li>'),ja=g('<div class="p-1 text-center border-t border-gray-100"><a class="text-xs text-blue-600 hover:underline"> </a></div>'),za=g('<ul class="divide-y divide-gray-100"></ul> <!>',1),Ea=g('<div class="py-4 text-center"><p class="text-gray-500 text-sm">검색 결과가 없습니다.</p> <p class="text-xs text-gray-400 mt-1">다른 검색어로 시도해보세요.</p></div>'),$a=g('<div class="py-4 text-center text-gray-400 text-sm"><p>검색어를 입력하세요</p></div>'),Ba=g('<div class="fixed inset-0 bg-black bg-opacity-30 z-40 flex items-start justify-center pt-14"><div id="search-modal" class="bg-white rounded-md shadow-lg w-[80%] max-w-sm max-h-[75vh] overflow-hidden flex flex-col font-yoo animate-fadeIn svelte-smrll"><div class="p-2 border-b border-gray-100"><div class="flex justify-between items-center mb-1.5"><h3 class="text-sm font-medium text-gray-800">검색</h3> <button class="text-gray-400 hover:text-gray-600" aria-label="닫기"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="relative"><input type="text" placeholder="검색어를 입력하세요" class="w-full text-xs py-1 px-2 border border-gray-200 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-400"> <button class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600" aria-label="검색"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button></div></div> <div class="overflow-y-auto flex-1"><!></div></div></div>'),Ia=g('<nav class="w-full md:w-96 px-2 pt-1"><div class="flex justify-between items-center font-yoo text-sm"><div class="flex"><a href="/">첫화면 <!></a> <a href="/blog">기록 <!></a></div> <div class="flex items-center space-x-1"><button class="px-1 py-1 text-sm hover:text-blue-600" aria-label="검색" title="검색"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button> <a href="https://x.com/shouts2713531" class="px-1 py-1 text-sm hover:text-orange-600" aria-label="X로 이동" title="X로 이동" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 inline" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg></a> <a href="/rss.xml" class="px-1 py-1 text-sm hover:text-orange-600" aria-label="RSS 피드 구독" title="RSS 피드 구독" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" class="h-2.5 w-2.5 inline" fill="currentColor" viewBox="0 0 24 24"><path d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z"></path></svg></a></div></div></nav> <!> <!>',1);function Ua(e,t){sa(t,!0);const[v,C]=ha(),d=()=>ma(_a,"$page",v);let o=U(!1),s=U(""),i=U(la([])),f=U(!1);function S(){w(o,!a(o)),a(o)||(w(s,""),w(i,[],!0))}function E(){a(s).trim()||w(i,[...a(i)],!0)}async function b(){if(!a(s).trim()){w(i,[],!0);return}w(f,!0);try{const h=await(await fetch(`/api/search?q=${encodeURIComponent(a(s).trim())}`)).json();w(i,h.results,!0)}catch(n){console.error("검색 중 오류 발생:",n),w(i,[],!0)}finally{w(f,!1)}}function we(n){n.key==="Enter"&&b()}function ke(n){const h=document.getElementById("search-modal");h&&!h.contains(n.target)&&a(o)&&S()}var se=Ia();k("click",na,ke);var W=V(se),le=l(W),X=l(le),T=l(X),Ce=p(l(T));{var Se=n=>{var h=wa();c(n,h)};x(Ce,n=>{d().url.pathname==="/"&&n(Se)})}r(T);var G=p(T,2),Me=p(l(G));{var Re=n=>{var h=ka();c(n,h)};x(Me,n=>{d().url.pathname.startsWith("/blog")&&n(Re)})}r(G),r(X);var oe=p(X,2),je=l(oe);ia(4),r(oe),r(le),r(W);var ne=p(W,2);{var ze=n=>{var h=Ba(),J=l(h),N=l(J),Q=l(N),$e=p(l(Q),2);r(Q);var ie=p(Q,2),$=l(ie);da($),ca($);var ve=p($,2);r(ie),r(N);var ce=p(N,2),Be=l(ce);{var Ie=y=>{var Y=Ca();c(y,Y)},He=(y,Y)=>{{var Le=B=>{var q=za(),L=V(q);fa(L,21,()=>a(i),ua,(M,m)=>{var j=Ra(),I=l(j),O=l(I),Z=l(O),Pe=l(Z,!0);r(Z);var de=p(Z,2);{var De=u=>{var _=Sa(),P=l(_,!0);r(_),z(()=>K(P,a(m).category)),c(u,_)};x(de,u=>{a(m).category&&u(De)})}var fe=p(de,2),Ke=l(fe);{var Te=u=>{var _=pe(),P=V(_);be(P,()=>a(m).title.replace(new RegExp(a(s),"gi"),ee=>`<mark class="bg-yellow-200 px-0.5 rounded">${ee}</mark>`)),c(u,_)},qe=u=>{var _=he();z(()=>K(_,a(m).title)),c(u,_)};x(Ke,u=>{a(s)&&a(s).trim()?u(Te):u(qe,!1)})}r(fe),r(O);var Ae=p(O,2);{var Ue=u=>{var _=Ma(),P=l(_);{var ee=H=>{var D=pe(),We=V(D);be(We,()=>a(m).matchContext.replace(new RegExp(a(s),"gi"),Xe=>`<mark class="bg-yellow-200 px-0.5 rounded">${Xe}</mark>`)),c(H,D)},Ve=H=>{var D=he();z(()=>K(D,a(m).matchContext)),c(H,D)};x(P,H=>{a(s)&&a(s).trim()?H(ee):H(Ve,!1)})}r(_),c(u,_)};x(Ae,u=>{a(m).matchContext&&u(Ue)})}r(I),r(j),z(()=>{xe(I,"href",`/blog/${a(m).slug??""}`),K(Pe,a(m).date)}),k("click",I,S),c(M,j)}),r(L);var F=p(L,2);{var R=M=>{var m=ja(),j=l(m),I=l(j);r(j),r(m),z(O=>{xe(j,"href",`/search?q=${O??""}`),K(I,`모든 결과 보기 (${a(i).length??""}건)`)},[()=>encodeURIComponent(a(s))]),k("click",j,S),c(M,m)};x(F,M=>{a(i).length>15&&M(R)})}c(B,q)},Oe=(B,q)=>{{var L=R=>{var M=Ea();c(R,M)},F=R=>{var M=$a();c(R,M)};x(B,R=>{a(s)?R(L):R(F,!1)},q)}};x(y,B=>{a(i).length>0?B(Le):B(Oe,!1)},Y)}};x(Be,y=>{a(f)?y(Ie):y(He,!1)})}r(ce),r(J),r(h),z(()=>ve.disabled=a(f)),k("click",$e,S),ga($,()=>a(s),y=>w(s,y)),k("keypress",$,we),k("input",$,E),k("click",ve,b),k("click",J,ye(function(y){ba.call(this,t,y)})),k("click",h,xa(S)),c(n,h)};x(ne,n=>{a(o)&&n(ze)})}var Ee=p(ne,2);pa(Ee,()=>t.children),z(n=>{ge(T,1,`md px-2 py-1 text-sm hover:text-red-800 relative ${d().url.pathname==="/"?"active":""}`,"svelte-smrll"),ge(G,1,n,"svelte-smrll")},[()=>`md px-2 py-1 text-sm hover:text-red-800 relative ${d().url.pathname.startsWith("/blog")?"active":""}`]),k("click",je,ye(S)),c(e,se),oa(),C()}export{Ua as component,Aa as universal};
